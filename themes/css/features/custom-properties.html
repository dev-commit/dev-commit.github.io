<h2>Custom Properties</h2>

<u-link-wrapper>
    <a href="https://github.com/jhildenbiddle/css-vars-ponyfill" target="_blank">css-vars-ponyfill</a>
</u-link-wrapper>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Варианты</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->

<!------------------------------------------------------------->
<h4>1. Определение переменных</h4>
<!------------------------------------------------------------->
<pre><code class="css">
:root {
    --color: green;
}
body {
    background-color: var(--color);
}
</code></pre>

<!------------------------------------------------------------->
<h4>2. Привязка переменных</h4>
<!------------------------------------------------------------->
<pre><code class="css">
:root {
    --a: var(--b);
    --b: var(--c);
    --c: red;
}
body {
    background-color: var(--a);
}
</code></pre>

<!------------------------------------------------------------->
<h4>3. Локальный fallback</h4>
<!------------------------------------------------------------->
<pre><code class="css">
:root {
    --color: blue;
}
body {
    background-color: var(--color, green);
    font-size: var(--a, 1rem);
    color: var(--b, var(--c, var(--d, red)));
}
</code></pre>

<!------------------------------------------------------------->
<h4>4. Переменные в calc()</h4>
<!------------------------------------------------------------->
<pre><code class="css">
:root {
    --a: 1em;
    --b: 2;
}
body {
    font-size: calc(var(--a) * var(--b));
}
</code></pre>

<!------------------------------------------------------------->
<h4>5. Переопределение переменной в @media</h4>
<!------------------------------------------------------------->
<pre><code class="css">
:root {
    --color: blue;
}
body {
    background-color: var(--color);
}
@media (max-width: 700px) {
    :root { --color: yellowgreen; }
}
</code></pre>

<!------------------------------------------------------------->
<h4>6. Переменные в SVG</h4>
<!------------------------------------------------------------->
<pre><code class="html"><u-code-title>html</u-code-title>
&lt;svg height="100" width="100"&gt;
    &lt;circle cx="50" cy="50" r="50" fill="var(--color)" /&gt;
&lt;/svg&gt;
</code></pre>

<pre><code class="css"><u-code-title>css</u-code-title>
:root {
    --color: yellowgreen;
}
</code></pre>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Custom Properties JS</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<pre><code class="css"><u-code-title>css</u-code-title>
:root {
    --color: #ffeead;
}
</code></pre>

<pre><code class="js"><u-code-title>js</u-code-title>
var root = document.querySelector(':root');
var rootStyles = <u-code>getComputedStyle</u-code>(root);
var color = rootStyles.<u-code>getPropertyValue</u-code>('--color');
console.log(color); // '#ffeead'

root.style.<u-code>setProperty</u-code>('--color', '#88d8b0');
</code></pre>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Проверка поддержки переменных</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->

<!------------------------------------------------------------->
<h4>1. CSS</h4>
<!------------------------------------------------------------->
<pre><code class="css"><u-code-title>css</u-code-title>
@supports ( (--a: 0) ) {
    /* стили с поддержкой переменных */
}
@supports ( not (--a: 0) ) {
    /* стили без поддержки переменных */
}
</code></pre>

<!------------------------------------------------------------->
<h4>2. JavaScript</h4>
<!------------------------------------------------------------->
<pre><code class="js"><u-code-title>js</u-code-title>
if (window.CSS && window.CSS.supports && window.CSS.supports('--a', 0)) {
    // сценарии с поддержкой переменных
} else {
    // сценарии без поддержки переменных
}
</code></pre>

