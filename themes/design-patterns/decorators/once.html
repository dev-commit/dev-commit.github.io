<h2>once()</h2>

<div class="v-method-wrapper">
    <v-method before="" method="once" after="" arg="(fn)">
	Создает экземпляр функции, которая должна быть выполнена только один раз
    </v-method>

	<v-method-arg arg="fn">функция, которую необходимо выполнить</v-method-arg>
</div>

<ul class="list-point">
    <li>Паттерн может быть использован, например, для инициализации, когда нужно быть уверенным в единичном запуске функциональности, даже если сама функция вызвана в нескольких местах</li>
    <li>this</li>
</ul>

<v-code lang="js" title="">
function once(fn){
	let returnValue;
	let canRun = true;
	return function runOnce(){
		if(canRun) {
			returnValue = fn.apply(this, arguments);
			canRun = false;
		}
		return returnValue;
	}
}

let processonce = once(process);
processonce(); // process
processonce(); //
</v-code>

<ul class="list-point">
    <li>Функция <u>once()</u> возвращает другую функцию - <u>runOnce()</u>, использующую замыкание</li>
    <li>Вызов оригинальной функции осуществляется через передачу <u>this</u> и <u>arguments</u> в метод <u>apply:</u> <u-code-text>fn.apply(this, arguments)</u-code-text></li>
</ul>



