<h2>Преобразование объектов: toString и valueOf</h2>

<ul class="list-point">
	<li>В <u-text-define>логическом</u-text-define> контексте объект - всегда <u>true</u></li>
	<li>При <u-text-define>строковом</u-text-define> преобразовании объекта используется его метод <u>toString</u>. Он должен возвращать примитивное значение, причём не обязательно именно строку</li>
	<li>Для <u-text-define>численного</u-text-define> преобразования используется метод <u>valueOf</u>, который также может возвратить любое примитивное значение. У большинства объектов valueOf не работает (возвращает сам объект и потому игнорируется), при этом для численного преобразования используется toString</li>
</ul>

<!------------------------------------------------------>
<h3>Логическое преобразование</h3>
<!------------------------------------------------------>
<pre><code class="js">
// любой объект в логическом контексте – true, даже если это пустой массив [] или объект {}.
if ({} && []) {
	alert( "Все объекты - true!" ); // alert сработает
}
</code></pre>

<!------------------------------------------------------>
<h3>Строковое преобразование</h3>
<!------------------------------------------------------>
<pre><code class="js">
var user = {
	name: 'Tony'
};

alert( user ); // [object Object]
</code></pre>

<pre><code class="js">
// eсли в объекте присутствует метод toString, который возвращает примитив, то он используется для преобразования
var obj = {
	name: 'Tony',
	<u-code>toString</u-code>() {
		return this.name;
	}
};

alert( obj ); // Tony
</code></pre>

<!------------------------------------------------------>
<h3>Численное преобразование</h3>
<!------------------------------------------------------>
<pre><code class="js">
// для численного преобразования объекта используется метод valueOf, а если его нет – то toString
var room = {
	number: 777,
	<u-code>valueOf</u-code>() { return this.number; },
	<u-code>toString</u-code>() { return this.number; }
};

alert( +room );      // 777, вызвался valueOf
delete room.valueOf; // valueOf удалён
alert( +room );      // 777, вызвался toString
</code></pre>
