<h2>Композиция</h2>

<ul class="list-point margin-top">
    <li><u-text-define>Композиция и Агрегация</u-text-define> - расширение функционала класса за счет "внедрения" других классов</li>
    <li>Об агрегировании также часто говорят как об «отношении принадлежности» по принципу «у машины есть корпус, колёса и двигатель»</li>

    <li><u-text-define>Агрегация (агрегирование по ссылке)</u-text-define> - отношение «часть-целое» между двумя равноправными объектами, когда один объект (контейнер) имеет ссылку на другой объект. Оба объекта могут существовать независимо: если контейнер будет уничтожен, то его содержимое - нет</li>

    <li><u-text-define>Композиция (агрегирование по значению)</u-text-define> - более строгий вариант агрегирования, когда включаемый объект может существовать только как часть класса. Если класс будет уничтожен, то и включённый объект тоже будет уничтожен. Объект не может выйти за рамки своего класса. Объект будет создаваться внутри класса при создании класса и будет уничтожаться перед уничтожением родительского класса</li>

    <li><u-text-define>Функциональная композиция</u-text-define> - передача результа вызова одной функции в качестве аргумента другой функции</li>
</ul>

<pre><code class="light">
<img src="/img/js/composition.png"></code></pre>

<ul class="list-point">
    <li><em>Агрегация</em>: <u-code>профессора - факультеты</u-code>, профессора остаются жить после разрушения факультета</li>
    <li><em>Композиция</em>: <u-code>университет - факультеты</u-code>, факультеты без университета уничтожаются</li>
</ul>

<h4>Наследование и композиция</h4>
<div class="container-flex"><div class="container-half">
<ul class="list-point">
    <li><b>Наследование</b> - когда класс-наследник имеет все поля и методы родительского класса, и, как правило, добавляет какой-то новый функционал или/и поля</li>
    <li><b>Наследование предполагает</b> принадлежность к какой-то общности (похожесть). Наследуются атрибуты, т.е. возможности, другого класса, при этом объектов непосредственно родительского класса не создается</li>
    <li><b>Минус наследования</b> влияние родительского класса на дочерние</li>
</ul>
</div><div class="container-half">
<ul class="list-point">
    <li><b>Ассоциация (частные случаи: Композиция и Агрегация)</b> – когда один класс включает в себя другой класс в качестве одного из полей</li>
    <li><b>Композиция предполагает</b> формирование целого из частей. При композиции класс-агрегатор создает объекты других классов</li>
</ul>
</div></div>

<h4>Dependency Injection</h4>
<pre><code class="js">
function makeCoffee(coffee) {}
function produceCoffee() {
    return { iCoffee:true }
}
function barista(makeCoffee, produceCoffee) {
    let coffee = makeCoffee(produceCoffee());
}
barista(makeCoffee, produceCoffee);
</code></pre>
