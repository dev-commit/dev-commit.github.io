<h2>Паттерн «Декоратор»</h2>

<ul class="list-point">
    <li><u-text-define>«Декоратор»</u-text-define> - структурный паттерн проектирования, который позволяет динамически добавлять объектам новую функциональность, оборачивая их в полезные «обёртки»</li>
    <li>Расширения функционала объектов без модификации существующих классов или функций-конструкторов. Паттерн можно использовать для добавления к объектам неких возможностей без модификации кода, который ответственен за их создание</li>
    <li>Применяя «Декоратор», вы не меняете первоначальный класс и не создаёте дочерних классов</li>

    <li>Декоратор - приём программирования, который позволяет взять существующую функцию и изменить/расширить ее поведение</li>
    <li>Декоратор получает функцию и возвращает обертку, которая делает что-то своё «вокруг» вызова основной функции</li>
</ul>

<h4>Пример #1</h4>
<pre><code class="js">
function Car(name) {
    this.name = name;
    this.color = 'White';
}

// создание нового объекта, который планируется декорировать
const tesla = new Car('Tesla Model 3');

// декорирование объекта - добавление нового функционала
tesla.setColor = function(color) {
    this.color = color;
}
tesla.setPrice = function(price) {
    this.price = price;
}

tesla.setColor('black');
tesla.setPrice(49000);
console.log(tesla.color); // выводит black
</code></pre>

<h4>Пример #2. Декоратор проверки доступа</h4>
<pre><code class="js">
function checkPermissionDecorator(f) {
    return function() {
        if (isAdmin()) {
            return f.apply(this, arguments);
        }
            alert( 'Недостаточно прав' );
    }
}

function save() { ... }

save = checkPermissionDecorator(save);
// Теперь вызов функции save() проверяет права
</code></pre>
