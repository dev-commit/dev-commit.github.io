<h2>Хук useRef</h2>

<v-code lang="js border" title="">
const refContainer = useRef(initialValue);
</v-code>

<ul class="list-point">
    <li>useRef возвращает изменяемый <u>ref-объект</u>, свойство <u-code-text>.current</u-code-text> которого инициализируется переданным аргументом (<u>initialValue</u>). Возвращённый объект будет сохраняться в течение всего времени жизни компонента</li>
</ul>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Применение для сохранения мутируемого значения (н-р: props)</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->

<ul class="list-point">
    <li>Хук удобен для сохранения любого мутируемого значения, по аналогии с тем, используются поля экземпляра в классах</li>
    <li>Это возможно, поскольку <u>useRef()</u> создаёт обычный JavaScript-объект. Единственная разница между <u>useRef()</u> и просто созданием самого объекта <u>{current: ...}</u> - это то, что <u-text-underline>хук useRef даст один и тот же объект с рефом при каждом рендере</u-text-underline></li>
    <li><u>useRef</u> не уведомляет, когда изменяется его содержимое. Мутирование свойства <u-code-text>.current</u-code-text> <u-text-underline>не вызывает повторный рендер</u-text-underline>. Если необходимо запустить некоторый код, когда React присоединяет или отсоединяет реф к узлу DOM, можно использовать <u>колбэк-реф</u> вместо этого</li>
</ul>

<hr>
<ul class="list-point">
    <li><u-code-text>props</u-code-text> мутировать нельзя, поэтому если нужно изменить, то помещаем в <u>useRef</u> / <u>useState</u></li>
    <li><u-code-text>useRef</u-code-text> как правило используется с хуками: либо по своему прямому назначению, либо для хранения состояния, напрямую не связанному с jsx </li>
    <li><u-code-text>useState</u-code-text> используется для хранение состояния, связанного с <u>jsx</u></li>
</ul>

<v-two-code type="js;js" comment="useRef;useState">
<template v-slot:first>
const Component = ({ hint }) =&gt; {
    const hintRef = <u-code>useRef</u-code>(hint);
    hintRef.current = 'Новое значение';
}
</template>
<template v-slot:last>
const Component = ({ hint }) => {
    const [hintData, setHintData] = <u-code>useState</u-code>(hint);
    setHintData('Новое значение');
    return &lt;Tooltip title={hintData} /&gt;
}
</template>
</v-two-code>
