<h2>React-Redux</h2>

<u-link-wrapper>
	<a href="https://codesandbox.io/s/v8n57owly0" target="_blank">Пример из документации</a>
</u-link-wrapper>

<v-code lang="bash" title=""><em>
&#10006; redux
	&#10006; reducers
		&#8226; index.js
		&#8226; my-reducer.js
	&#8226; store.js
	&#8226; actions.js
	&#8226; actionTypes.js
&#8226; App.js
&#8226; index.js
</em></v-code>

<img src="/img/redux/react-redux-structure.png" width="800px">

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>DISPATCH</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<img src="/img/redux/react-redux-dispatch.png" width="1000px">

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>1. PROVIDER</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<v-code lang="js border" title="index.js">
import React from 'react';
import ReactDOM from 'react-dom';

import { <u-code>Provider</u-code> } from 'react-redux';
import store from './redux/store';

import App from './App';

ReactDOM.render(
    &lt;<u-code>Provider store={store}</u-code>&gt;
        &lt;App /&gt;
    &lt;/<u-code>Provider</u-code>&gt;,
    document.getElementById('root')
);
</v-code>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>2. STORE</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<v-code lang="js border" title="redux/store.js">
import { <u-code>createStore</u-code>, applyMiddleware } from 'redux';
import { composeWithDevTools } from 'redux-devtools-extension';
import thunk from 'redux-thunk';
import rootReducer from './reducers';

export default <u-code>createStore</u-code>(
	rootReducer,
	composeWithDevTools(
		applyMiddleware(thunk)
	)
);
</v-code>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>3. REDUCERS</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<v-code lang="js border" title="redux/reducers/index.js">
import { <u-code>combineReducers</u-code> } from 'redux';
import reducerStarter from './reducer-starter';

export default <u-code>combineReducers</u-code>({
    reducerStarter
});
</v-code>

<v-code lang="js border" title="redux/reducers/reducer-starter.js">
import { NAME } from '../actionTypes';

const initialState = {
    name: ''
};

const reducerStarter = (state = initialState, action) => {
    switch (action.type) {
        case <u-code>NAME</u-code>:
            return {
                ...state,
                name: action.payload
            }
        default:
            return state;
    }
};

export default reducerStarter;
</v-code>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>4. ACTIONS (ACTIONS CREATOR)</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<v-code lang="js border" title="redux/actions.js">
import { NAME } from './actionTypes';

// возвращает объект
export const setName = (name) => ({
    type: <u-code>NAME</u-code>,
    payload: name
});

// возвращает функцию (redux-thunk)
export const setName = () => (dispatch) => {
	dispatch({
		type: <u-code>NAME</u-code>,
		payload: name
	})
};
</v-code>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>5. COMPONENT</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<v-code lang="js border" title="App.js">
import React from 'react';
import { <u-code>connect</u-code> } from 'react-redux';
import { setName } from '../../redux/actions';

const AppRedux = ({ dataStarter, setName }) =&gt; {
	console.log(dataStarter);
	// {value: 0, name: ""}
	// {value: 0, name: "Jack"} - после нажатия кнопки

	return (
		&lt;button onClick={() =&gt; setName('Jack')}&gt;Ok&lt;/button&gt;
	);
}

const mapStateToProps = state =&gt; ({
	<u-code>dataStarter</u-code>: state.reducerStarter
})

const mapDispatchToProps = {
	<u-code>setName</u-code>
}
export default connect(
	mapStateToProps,
	mapDispatchToProps
)(AppRedux);
</v-code>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>6. ACTION TYPES</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<v-code lang="js border" title="redux/actionTypes.js">
export const NAME = 'NAME';
</v-code>
