
    <!DOCTYPE html>
        <html>
        <head>
            <title>
    <div
        style="
            display: inline-block;
            width: 10px;
            height: 10px;
            margin-right: 5px;
            background-color: #7256d1;
            border-radius: 50%;
            border: 2px solid #fff;
        "   
        >
    </div>
Auth</title>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link rel="icon" type="image/png" href="../custom/favicon.svg">

            <script src="../src/js/utils.js"></script>
            <!-- Own JavaScript -->
            <script src="../@themes/auth/build-auth.js"></script>
        </head>
        <body>
            <div id="container">
                <div id="menu" :class="{ hide:isHideMenu }">
                    <div id="top">
                        <img
                            width="35px"
                            height="35px"
                            src="../src/img/show.svg"
                            class="img"
                            @click="toggleMenu()"
                        >
                        <a href="#links" class="top-link">
    <div
        style="
            display: inline-block;
            width: 10px;
            height: 10px;
            margin-right: 5px;
            background-color: #7256d1;
            border-radius: 50%;
            border: 2px solid #fff;
        "   
        >
    </div>
Auth</a>
                    </div>

                    <div class="search-wrapper">
                        <input class="search-input" id="search-input" type="text" autocomplete="off" placeholder="Search..." />
                        <div id="search-result"></div>
                    </div>

                    <h4>üè∑Ô∏è Session</h4><ul>
    <li>
        <a
            class="menu-link"
            id="id__auth/session/session"
            href="#auth/session/session"
        >
            Session & Cookie
        </a>
    </li>
</ul><h4>üè∑Ô∏è JWT</h4><ul>
    <li>
        <a
            class="menu-link"
            id="id__auth/jwt/info"
            href="#auth/jwt/info"
        >
            üìë –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
        </a>
    </li>

    <li>
        <a
            class="menu-link"
            id="id__auth/jwt/algoritm"
            href="#auth/jwt/algoritm"
        >
            –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã
        </a>
    </li>

    <li>
        <a
            class="menu-link"
            id="id__auth/jwt/tokens"
            href="#auth/jwt/tokens"
        >
            –¢–æ–∫–µ–Ω—ã
        </a>
    </li>

    <li>
        <a
            class="menu-link"
            id="id__auth/jwt/secret-key"
            href="#auth/jwt/secret-key"
        >
            Secret Key
        </a>
    </li>
</ul><h4>üè∑Ô∏è –°–µ—Ä–≤–∏—Å—ã</h4><ul>
    <li>
        <a
            class="menu-link"
            id="id__auth/services/auth0"
            href="#auth/services/auth0"
        >
            <u-menu>auth0</u-menu>
        </a>
    </li>

    <li>
        <a
            class="menu-link"
            id="id__auth/services/okta"
            href="#auth/services/okta"
        >
            <u-menu>okta</u-menu>
        </a>
    </li>
</ul>
                </div>

                <div id="wrapper">
                    <div id="links">
                        <ul>
                            <slot v-for="itemLink in linksContent">
                                <li v-if="itemLink">
                                    <a
                                        :href="itemLink.page"
                                        :class="{
                                            ['theme-'+itemLink.theme]: true,
                                            active: itemLink.page == pageName
                                        }"
                                        v-html="itemLink.title"
                                    ></a>
                                </li>
                                <li v-else class="splitter"></li>
                            </slot>
                        </ul>
                    </div>
                    <div id="content"><div id="auth/session/session"><h2>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å –ø–æ–º–æ—â—å—é —Å–µ—Å—Å–∏–π</h2>

<ul class="list-point">
    <li>–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è Cookie –∏ —Å–∞–º–∞ —Å–µ—Å—Å–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ</li>
</ul>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>–ê–ª–≥–æ—Ä–∏—Ç–º</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<ol class="list-num">
    <li>–ö–ª–∏–µ–Ω—Ç –ø—Ä–∏—Å—ã–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ <u>–°–µ—Ä–≤–µ—Ä</u></li>
    <li>–°–µ—Ä–≤–µ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ö–ª–∏–µ–Ω—Ç–µ –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π ID</li>
    <li>–°–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç ID –∫–ª–∏–µ–Ω—Ç—É –≤ Cookies</li>
    <li>–ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∫ –°–µ—Ä–≤–µ—Ä—É –ö–ª–∏–µ–Ω—Ç –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–º ID</li>
    <li>–°–µ—Ä–≤–µ—Ä —Å–º–æ—Ç—Ä–∏—Ç –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏ –µ—Å–ª–∏ –≤—Å–µ —Ö–æ—Ä–æ—à–æ, —Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º</li>
</ol>

<img src="/@img/auth/session-cookie.png" width="800px" class="xl test" />
</div><div id="auth/jwt/info"><h2>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>

<u-link-wrapper>
    <a href="https://jwt.io/" target="_blank">https://jwt.io/</a>
</u-link-wrapper>

<ul class="list-point">
    <li><u-text-define>JWT</u-text-define> - JSON Web Tokens</li>
</ul>
</div><div id="auth/jwt/algoritm"><h2>–ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã</h2>

<ol class="list-num">
    <li>–°–µ—Ä–≤–µ—Ä –≤—ã–¥–∞–µ—Ç —Ç–æ–∫–µ–Ω, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é</li>
    <li>–î–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–≤–æ–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä</li>
    <li>–°–µ—Ä–≤–µ—Ä –Ω–µ —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–∫–µ–Ω, –∞ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –µ–≥–æ –Ω–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å</li>
</ol>

<img src="/@img/auth/jwt-algoritm.png" width="600px" />
</div><div id="auth/jwt/tokens"><h2>–¢–æ–∫–µ–Ω—ã</h2>

<ul class="list-point">
    <li>–í –∫–∞–∂–¥–æ–º —Ç–æ–∫–µ–Ω–µ –µ—Å—Ç—å –ø–æ–ª–µ <u>"iat"</u> (issue at) - –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ —Ç–æ–∫–µ–Ω –±—ã–ª –≤—ã–ø—É—â–µ–Ω</li>
</ul>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>–í–∏–¥—ã —Ç–æ–∫–µ–Ω–æ–≤</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<table class="half-width" width="750px">
    <tr>
        <th>Access Token</th>
        <th>Refresh Token</th>
    </tr>
    <tr>
        <td><em>‚Ä∫ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</em>: –°–µ—Ä–≤–µ—Ä –ø—Ä–∏—Å—ã–ª–∞–µ—Ç Access Token, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏–∏—Ç—å –≤ LocalStorage –∏–ª–∏ Redux Store</td>
        <td><em>‚Ä∫ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</em>: –°–µ—Ä–≤–µ—Ä –Ω–µ –ø—Ä–∏—Å—ã–ª–∞–µ—Ç Refresh Token, –∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –µ–≥–æ –≤ Cookie —Å —Ñ–ª–∞–≥–æ–º <u>httpOnly</u>, —á—Ç–æ–±—ã —Ç–æ–ª—å–∫–æ –°–µ—Ä–≤–µ—Ä –∏–º–µ–ª –∫ –Ω–∏–º –¥–æ—Å—Ç—É–ø. –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ Cookie –±—É–¥–µ—Ç —Ç–∞–∫–æ–µ –∂–µ –∫–∞–∫ —É Refresh Token</td>
    </tr>
    <tr>
        <td><em>‚Ä∫ –ö–ª–∏–µ–Ω—Ç</em>: –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–æ–∫–µ–Ω –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –Ω–∞ –°–µ—Ä–≤–µ—Ä –≤ Authorization Headers. –í Headers —Ç–æ–∫–µ–Ω –±—É–¥–µ—Ç –≤–∏–¥–∞: <u>"Bearer —Ç–æ–∫–µ–Ω"</u></td>
        <td><em>‚Ä∫ –ö–ª–∏–µ–Ω—Ç</em>: –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–æ–∫–µ–Ω –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–π –ø–∞—Ä—ã Access Token + Refresh Token</td>
    </tr>
    <tr>
        <td><em>‚Ä∫ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</em>: –º–Ω–æ–≥–æ—Ä–∞–∑–æ–≤—ã–π</td>
        <td><em>‚Ä∫ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</em>: –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π</td>
    </tr>
    <tr>
        <td><em>‚Ä∫ –í—Ä–µ–º—è –∂–∏–∑–Ω–∏</em>: –æ–∫–æ–ª–æ 10 –º–∏–Ω—É—Ç</td>
        <td><em>‚Ä∫ –í—Ä–µ–º—è –∂–∏–∑–Ω–∏</em>: –±–æ–ª—å—à–µ —á–µ–º —É Access Token</td>
    </tr>
</table>

<img src="/@img/auth/jwt-tokens.png" width="400px" />


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ JWT —Ç–æ–∫–µ–Ω–∞</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<ol class="list-num">
    <li><em>Header</em> - —Ç–∏–ø —Ç–æ–∫–µ–Ω–∞</li>
    <li><em>Payload</em> - –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏—Å–ª–∞–ª–∏ –≤ –æ—Ç–≤–µ—Ç</li>
    <li><em>Verify Signature</em> - –∫—Ä–∏–ø—Ç–æ–Ω—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –ø–æ–¥–ø–∏—Å—å, –ø–æ–ª—É—á–µ–Ω–Ω–∞—è –ø—É—Ç–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏, –æ–ø–∏—Å–∞–Ω–Ω–æ–π –≤ –ø–æ–ª–µ <u>Header -> "alg"</u></li>
</ol>

<img src="/@img/auth/jwt-token-structure.png" width="800px" />

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Cookie</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<v-code lang="js" title="">
const express = require("express");
const cookie = require("cookie");

const authRouter = express.Router();

authRouter.get("/logout", (req, res) => {
	res.setHeader(
		"Set-Cookie",
		cookie.serialize("refreshToken", "", {
			httpOnly: true,
			maxAge: 0,
		})
	);
	res.sendStatus(200);
});
</v-code>
</div><div id="auth/jwt/secret-key"><h2>Secret Key</h2>

<h5>–ü—Ä–æ–±–ª–µ–º–∞—Ç–∏–∫–∞</h5>
<ul class="list-point">
    <li>–ï—Å—Ç—å "–°–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Autn" –∏ "Ce—Ä–≤–µ—Ä API"</li>
    <li>–ü—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é —Å–µ—Å—Å–∏–π —É "Ce—Ä–≤–µ—Ä–∞ API" –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ö—Ä–∞–Ω–∏—â—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —Ç.–∫. —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –¥–æ–º–µ–Ω–∞—Ö</li>
</ul>

<h5>–†–µ—à–µ–Ω–∏–µ</h5>
<ul class="list-point">
    <li>"–°–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏" –≤—ã–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç –∏—Ö <u>Secret Key</u>. –†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç–≤–µ—Ç–∞ –°–µ—Ä–≤–µ—Ä–∞: –¥–∞–Ω–Ω—ã–µ + –∑–∞—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –ø–æ–¥–ø–∏—Å—å</li>
    <li>–ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç —É–≤–∏–¥–µ—Ç—å –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –æ–Ω –ø–æ–ª—É—á–∏–ª, –Ω–æ –æ–Ω –Ω–µ –º–æ–∂–µ—Ç –∏—Ö –∏–∑–º–µ–Ω–∏—Ç—å. –ï—Å–ª–∏ –æ–Ω —á—Ç–æ-—Ç–æ –∏–∑–º–µ–Ω–∏—Ç, —Ç–æ –Ω–µ —Å–º–æ–∂–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω—É—é –ø–æ–¥–ø–∏—Å—å</li>
    <li>–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è "Ce—Ä–≤–µ—Ä API" –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥–æ–±–Ω—ã–π "–°–µ—Ä–≤–µ—Ä—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏", –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö, –≤–µ–¥—å —É –Ω–µ–≥–æ –µ—Å—Ç—å Secret Key. "Ce—Ä–≤–µ—Ä API" —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø–æ–¥–ø–∏—Å—å –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å —Ç–µ–º —á—Ç–æ –ø—Ä–∏—à–ª–æ –æ—Ç –ö–ª–∏–µ–Ω—Ç–∞</li>
</ul>

<hr class="small">

<ul class="list-point">
    <li><u>Secret Key</u> - —ç—Ç–æ –Ω–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –¥–æ—Å—Ç—É–ø–µ–Ω –∏ "–°–µ—Ä–≤–µ—Ä—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏" –∏ "Ce—Ä–≤–µ—Ä—É API". –ï–≥–æ –∑–Ω–∞—é—Ç —Ç–æ–ª—å–∫–æ –°–µ—Ä–≤–µ—Ä–∞</li>
</ul>

<img src="/@img/auth/secret-key.jpg" width="400px" />
</div><div id="auth/services/auth0"><h2>Auth0</h2>

<u-link-wrapper>
    <a href="https://auth0.com/" target="_blank">https://auth0.com/</a>
</u-link-wrapper>

<ul class="list-point">
    <li><u-text-define>Auth0</u-text-define> - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–∞–∫ —Å–µ—Ä–≤–∏—Å–∞, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–æ—â–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Ñ—É–Ω–∫—Ü–∏–π, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ —Å–∞–π—Ç–∞</li>
</ul>
</div><div id="auth/services/okta"><h2>Okta</h2>

<u-link-wrapper>
    <div><a href="https://www.okta.com/" target="_blank">https://www.okta.com/</a> Okta</div>
    <div><a href="https://cli.okta.com/" target="_blank">https://cli.okta.com/</a> Okta CLI</div>
    <div><a href="https://github.com/okta/okta-auth-js/blob/master/docs/authn.md" target="_blank">https://github.com/okta/okta-auth-js/blob/master/docs/authn.md</a> Okta Authentication API (authn)</div>
</u-link-wrapper>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Vue.js</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->

<!------------------------------------------------------------->
<h4>–£—Å—Ç–∞–Ω–æ–≤–∫–∞</h4>
<!------------------------------------------------------------->
<v-pre-npm>
npm i --save-dev <u-code-accent>@okta/okta-auth-js</u-code-accent>
npm i --save-dev <u-code-accent>@okta/okta-vue</u-code-accent>
</v-pre-npm>

<!------------------------------------------------------------->
<h4>API</h4>
<!------------------------------------------------------------->
<v-code lang="js step" title="">
import { useAuth } from '@okta/okta-vue';

const auth = useAuth();
</v-code>

<h5>Authorization</h5>
<v-code lang="js step" title="">
// –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º
// –û—Ç–∫—Ä–æ–µ—Ç—Å—è —Ñ–æ—Ä–º–∞ Okta –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
// –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ redirectUri, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –∫–æ–Ω—Ñ–∏–≥–µ
// redirectUri: 'http://localhost:8080/login/callback',
auth.token.getWithRedirect({
	responseType: 'id_token'
});

// –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –±–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞
// –í–µ—Ä–Ω–µ—Ç Promise
auth.signInWithCredentials({
	username: 'username',
	password: 'password'
})
</v-code>

<h5>tokenManager</h5>
<v-code lang="js step" title="">
// –î–æ–±–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ tokenManager (—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ LocalStorage) –≤ –º–æ–º–µ–Ω—Ç –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞
auth.tokenManager.add('idToken', response.tokens.idToken);
auth.tokenManager.setTokens({ accessToken, idToken });

// –ß–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ tokenManager (LocalStorage) –≤ –º–æ–º–µ–Ω—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–∞ tokenManager
auth.tokenManager.get('idToken').then(data => console.log('tokenManager', data));

const expireTime = auth.tokenManager.getExpireTime(idToken);
</v-code>

<h5>session</h5>
<v-code lang="js step" title="">
// –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏ (–∞–∫—Ç–∏–≤–Ω–∞ –ø—Ä–∏–º–µ—Ä–Ω–æ 2 —á–∞—Å–∞)
auth.session.get().then(data => console.log('session', data));
</v-code>

<v-code lang="js" title="">
// –ë–µ–∑ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ Backend
auth.token.verify(idToken).then(data => console.log('verify', data));
// –° –∑–∞—Ä–æ—Å–æ–º –Ω–∞ Backend
auth.token.getUserInfo(accessToken, idToken).then(data => console.log('getUserInfo', data));

const user = auth.getUser().then(data => console.log(data));

// undefined
const accessToken = auth.getAccessToken();
console.log(accessToken);

const authState = auth.authStateManager.getAuthState();
console.log(authState);

// –í–µ—Ä–æ—è—Ç–Ω–æ, –±–µ—Ä–µ—Ç –∏–∑ getAuthState()
// –í—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç false
const isAuthenticated = auth.isAuthenticated().then(data => console.log(data));
console.log(isAuthenticated);

const a = auth.token.isLoginRedirect();
console.log(a);
</v-code>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>–ü—Ä–∏–º–µ—Ä</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->

<!------------------------------------------------------------->
<h4>Config</h4>
<!------------------------------------------------------------->
<v-tabs :tabs="['oktaConfig.js', 'client.js']">

<template v-slot:1>
<!------------------------------------------------------------->
<v-path>src\.vuepress\oktaConfig.js</v-path>
<!------------------------------------------------------------->
<v-code lang="js" title="">
const clientId = '***';
const domain = 'dev-***.okta.com';

export const oktaConfig = {
    issuer: `https://${domain}/oauth2/default`,
    clientId: clientId,
    // redirectUri: window.location.origin + '/login/callback',
    // redirectUri: 'http://localhost:8080/login/callback',
    scopes: ['openid', 'profile', 'email']
};
</v-code>
</template>

<template v-slot:2>
<!------------------------------------------------------------->
<v-path>src\.vuepress\client.js</v-path>
<!------------------------------------------------------------->
<v-code lang="js" title="">
import { defineClientConfig } from '@vuepress/client'

import { OktaAuth } from '@okta/okta-auth-js';
import OktaVue from '@okta/okta-vue';
import { oktaConfig } from './oktaConfig';

const oktaAuth = new OktaAuth(oktaConfig);

export default defineClientConfig({
    enhance({ app, router, siteData }) {
        app.use(OktaVue, { oktaAuth });
    },
    setup() {},
    layouts: {},
    rootComponents: [],
})
</v-code>
</template>
</v-tabs>

<!------------------------------------------------------------->
<h4>Components</h4>
<!------------------------------------------------------------->
<v-tabs :tabs="['Auth.vue', 'AuthCheck.vue', 'config.js', 'index.md']">

<template v-slot:1>
<!------------------------------------------------------------->
<v-path>src\.vuepress\components\auth\Auth.vue</v-path>
<!------------------------------------------------------------->
<v-code lang="js" title="">
&lt;template&gt;
    &lt;div&gt;
        &lt;button @click="login"&gt;Login&lt;/button&gt;&lt;br&gt;
        &lt;button @click="logout"&gt;Logout&lt;/button&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { useAuth } from '@okta/okta-vue';

const auth = useAuth();

const login = async () =&gt; {
    auth.signInWithCredentials({
      username: '***@gmail.ru',
      password: '***'
    })
        .then(transaction =&gt; {
            if (transaction.status === 'SUCCESS') {
                return auth.token.getWithoutPrompt({
                    responseType: ['id_token', 'token'],
                    sessionToken: transaction.sessionToken,
                }).then(response =&gt; {
                    const accessToken = response.tokens.accessToken;
                    const idToken = response.tokens.idToken;

                    localStorage.accessToken = JSON.stringify(accessToken);
                    localStorage.idToken = JSON.stringify(idToken);

                    console.log('Login');
                })
            }
        })
        .catch(err =&gt; {
            console.error(err.message);
        })
}

const logout = async () =&gt; {
    await auth.signOut()
}
&lt;/script&gt;
</v-code>
</template>

<template v-slot:2>
<!------------------------------------------------------------->
<v-path>src\.vuepress\components\auth\AuthCheck.vue</v-path>
<!------------------------------------------------------------->
<v-code lang="js" title="">
&lt;template&gt;
    &lt;button v-on:click='checkLogin'&gt;AuthCheck&lt;/button&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { useAuth } from '@okta/okta-vue';

const auth = useAuth();

const checkLogin = async () =&gt; {
    const accessToken = JSON.parse(localStorage.accessToken);
    const idToken = JSON.parse(localStorage.idToken);

    // auth.session.get().then(data =&gt; console.log('session', data));
}
&lt;/script&gt;
</v-code>
</template>

<template v-slot:3>
<!------------------------------------------------------------->
<v-path>src\.vuepress\config.js</v-path>
<!------------------------------------------------------------->
<v-code lang="js" title="">
import { defineUserConfig } from 'vuepress';
import { getDirname, path } from '@vuepress/utils';
import { registerComponentsPlugin } from '@vuepress/plugin-register-components';

const __dirname = getDirname(import.meta.url);

export default defineUserConfig({
	plugins: [
		registerComponentsPlugin({
			components: {
<u-code-wrapper>
				['Auth']: path.resolve(__dirname, './components/auth/Auth.vue')
				['AuthCheck']: path.resolve(__dirname, './components/auth/AuthCheck.vue')

</u-code-wrapper>
			},
		}),
	]
})
</v-code>
</template>

<template v-slot:4>
<!------------------------------------------------------------->
<v-path>src\index.md</v-path>
<!------------------------------------------------------------->
<v-code lang="html" title="">
&lt;Auth /&gt;
&lt;AuthCheck /&gt;
</v-code>
</template>

</v-tabs>
</div></div>
                </div>
            </div>

            <!-- CSS -->
            <link rel="stylesheet" type="text/css" href="../src/css/starter.css">
            <link rel="stylesheet" type="text/css" href="../src/css/custom.css">
            <link rel="stylesheet" type="text/css" href="../src/css/layout.css">

            <!-- Libraries -->
            <script src="../src/libs/highlight/highlight.pack.js"></script>
            <script src="../src/libs/vue.js"></script>

            <!-- Custom Elements -->
            <script src="../src/components-web/custom-elements.js"></script>
            <link rel="stylesheet" type="text/css" href="../src/components-web/custom-elements.css">

            <!-- Vue.js Components -->
            <script src="../src/components-vue/vue-components.js"></script>
            <link rel="stylesheet" type="text/css" href="../src/components-vue/vue-components.css">

            <!-- JavaScript -->
            <script src="../src/js/init.js"></script>
            <script src="../@modules/@links.js"></script>
            <script src="../src/vue.js/build.js"></script>

            <!-- Search -->
            <script src="../search-data.js"></script>
            <script src="../src/js/search.js"></script>
        </body>
    </html>
