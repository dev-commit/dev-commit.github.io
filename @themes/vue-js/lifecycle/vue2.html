<h2>Lifecycle Vue 2</h2>

<v-two><template v-slot:first>
	<!------------------------------------------------------------->
	<h4>Диаграмма жизненного цикла</h4>
	<!------------------------------------------------------------->
	<img src="/@img/vue/lifecycle-vue2.png" width="500px">
</template><template v-slot:last>
	<!------------------------------------------------------------->
	<h4>Комментарии</h4>
	<!------------------------------------------------------------->
	<ul class="list-point">
		<li><u-inline-circle>1</u-inline-circle> Инициализация нового экземпляра Vue</li>
		<li><u-inline-circle>2</u-inline-circle> Инициализация событий и жизненного цикла компонента. Пока элемент не создан в него могут быть добавлены данные</li>
		<li><u-inline-circle>4</u-inline-circle> Инициализация инъекций и системы реактивности. После чего компонент создается. Компонент создан, но не смонтирован в DOM</li>
		<li><u-inline-circle>6</u-inline-circle> <b>Проверка</b>: Есть ли у компонента <u-code-text>el</u-code-text> - элемент DOM дерева в который предположительно будет смонтирован компонент</li>
		<li><u-inline-circle>7</u-inline-circle> <b>Проверка</b>: Есть ли у компонента шаблон <u-code-text>template</u-code-text></li>
		<li><u-inline-circle>11</u-inline-circle> Создание готового экземпляра Vue с раземеткой и необходимыми данными, который появляется в DOM дереве</li>
		<li><u-inline-circle>13</u-inline-circle> Можно взаимодействовать с компонентом: изменить его внутренние данные</li>
		<li><u-inline-circle>15</u-inline-circle> Обновление витруального DOM, поиск различий и перерендеривание компонента</li>
		<li><u-inline-circle>18</u-inline-circle> Уничтожаются все зависимые компоненты и все связи с ним</li>
	</ul>
	<!------------------------------------------------------------->
	<h4>Хуки жизненного цикла экземпляра</h4>
	<!------------------------------------------------------------->
	<ul class="list-point">
		<li><u-inline-circle>3</u-inline-circle> <u-code-accent>beforeCreate</u-code-accent> - вызывается перед созданием компонента</li>
		<li><u-inline-circle>5</u-inline-circle> <u-code-accent>created</u-code-accent> - вызывается после того как компонент создан, но не смонтирован в DOM</li>
		<li><u-inline-circle>10</u-inline-circle> <u-code-accent>beforeMount</u-code-accent> - вызывается перед монтированием компонента в DOM. Пока элемент не смонтирован в DOM, можно добавить в него данные</li>
		<li><u-inline-circle>12</u-inline-circle> <u-code-accent>mounted</u-code-accent> - вызывается когда компонент находится в DOM. Может быть вызван метод, выполнение которого зависит от отрендерренного DOM-дерева</li>
		<li><u-inline-circle>14</u-inline-circle> <u-code-accent>beforeUpdate</u-code-accent> - вызывается перед перерендерингом компонента, после изменения данных в нем</li>
		<li><u-inline-circle>16</u-inline-circle> <u-code-accent>updated</u-code-accent> - вызывается после обновления компонента</li></li>
		<li><u-inline-circle>17</u-inline-circle> <u-code-accent>beforeDestroy</u-code-accent> - вызывается перед уничтожением компонента
		<li><u-inline-circle>20</u-inline-circle> <u-code-accent>destroyed</u-code-accent> - вызывается после того как компонент уничтожен и удален из DOM</li>
	</ul>
</template></v-two>

<!------------------------------------------------------------->
<h4>Описание</h4>
<!------------------------------------------------------------->
<ul class="list-point">
    <li>Каждый экземпляр Vue при создании проходит через последовательность шагов инициализации — например, настраивает наблюдение за данными, компилирует шаблон, монтирует экземпляр в DOM, обновляет DOM при изменении данных. Между этими шагами вызываются функции, называемые <u>хуками жизненного цикла</u>, с помощью которых можно выполнять свой код на определённых этапах</li>
    <li>Все хуки вызываются с контекстной переменной <u>this</u>, ссылающейся на вызывающий экземпляр Vue</li>
    <li>Не используйте <u>стрелочные функции</u> в свойствах экземпляра и в коллбэках, например <u-code-text>created: () => console.log(this.a)</u-code-text> или <u-code-text>vm.$watch('a', newVal => this.myMethod())</u-code-text>. Так как стрелочные функции не имеют собственного <u>this</u>, то <u>this</u> в коде будет обрабатываться как любая другая переменная и её поиск будет производиться в областях видимости выше до тех пор пока не будет найдена</li>
</ul>
