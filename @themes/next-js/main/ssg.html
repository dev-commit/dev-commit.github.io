<!-- TODO:
<f-search>Next.js -> SSG</f-search>
-->

<h2>SSG</h2>

<ul class="list-point">
    <li><u-text-define>SSG</u-text-define> - Static Site Generation</li>
    <li>HTML генерируется <u>во время сборки</u> и будет повторно использоваться при каждом запросе</li>
</ul>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Build</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->

<!------------------------------------------------------------->
<h4>1. Настройка next.config.js</h4>
<!------------------------------------------------------------->
<ul class="list-point">
    <li>Что формировать сборку под SSG нужно настроить next.config.js</li>
</ul>

<v-code lang="js" title="next.config.js">
/** @type {import('next').NextConfig} */
const nextConfig = {
    <u-code>output: 'export',</u-code>
}

module.exports = nextConfig
</v-code>

<ul class="list-point">
    <li>После этого при build будет создаваться директория <u>out</u> c файлами проекта, которые можно загрузить, н-р на GitHub Pages</li>
</ul>

<!------------------------------------------------------------->
<h4>2. Устранение ошибки с оптимизацией Image</h4>
<!------------------------------------------------------------->
<ul class="list-point">
    <li>При использовании Image из 'next/image' при build появится ошибка</li>
</ul>

<v-code lang="js" title="">
import Image from 'next/image';
</v-code>

<u-message-error>
Image Optimization using the default loader is not compatible with export. Possible solutions:
<ul class="list-point">
    <li>Use `next start` to run a server, which includes the Image Optimization API</li>
    <li>Configure `images.unoptimized = true` in `next.config.js` to disable the Image Optimization API</li>
</ul>
Read more: <a href="https://nextjs.org/docs/messages/export-image-api" target="_blank" class="link">https://nextjs.org/docs/messages/export-image-api</a>
</u-message-error>

<h5>1 способ: Отключить оптимизацию</h5>
<v-code lang="js" title="next.config.js"> 
module.exports = {
  images: {
    unoptimized: true,
  },
}
</v-code>
