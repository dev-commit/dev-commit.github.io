<!-- TODO:
<f-search>Optimization -> Загрузка веб-страницы</f-search>
-->

<h2>Загрузка веб-страницы</h2>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Определения</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->

<ul class="list-point">
	<li><u-text-define>DNS (Domain Name Servers)</u-text-define> - распределенная таблица где указано имя сайта (htmlacademy.ru) и его физический адрес (178.79.181.169)</li>
	<li><u-text-define>Служба доставки, протокол TCP/IP</u-text-define> - доставляется контент от одного сервера до другого. Доставляет HTTP-пакеты</li>
</ul>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Алгоритм</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->

<!------------------------------------------------------------->
<h4>1. Ввод адреса в браузере</h4>
<!------------------------------------------------------------->
<ul class="list-point">
		<li>Пользователь вводит адрес, н-р: <a href="https://www.google.com/">https://www.google.com/</a></li>
</ul>

<hr>

<!------------------------------------------------------------->
<h4>2. Определение IP-адреса</h4>
<!------------------------------------------------------------->

Браузеру необходимо понять на какой IP-адрес ему делать GET-запрос

<ol class="list-num">
		<li>
			<b>Локальный кеш</b><br>
			Браузер пойдет в свой кэш - возможно, когда-то мы заходили на этот сайт и в кэше будет сохранена ассоциативная запись доменного имени и IP-адреса
		</li>
		<li>
			<b>DNS на сервере преобразует его в IP-адрес</b><br>
			Если в кэше его нет, то будет сделан запрос на ближайший DNS-сервер. Обычно это DNS-сервер локального провайдера и потом уже DNS-сервер вернет ассоциативную запись. Но если там нет, то пойдет дальше по цепочке на следующий DNS-сервер, пока не дойдет до корневого
		</li>
		<li><b>Hosting Server</b></li>
		<li><b>WebSite</b></li>
		<li><b>Обратно пользователю</b></li>
</ol>

<hr>

<!------------------------------------------------------------->
<h4>3. Веб-сервер</h4>
<!------------------------------------------------------------->

<h5>Сайт</h5>
<ul class="list-point">
		<li>Сайт лежит на сервере</li>
</ul>

<h5>Сервер</h5>
<ul class="list-point">
	<li>У сервера есть IP-адрес</li>
	<li>У сервера есть много портов</li>
</ul>

<h5>Порт</h5>
<ul class="list-point">
	<li>На сервере существует много портов и за каждый порт отвечает какая-то программа</li>
	<li>Порт можно не писать, браузер сам понимает по какому порту обращаться</li>
	<li>На одном порту может находиться много сайтов. Есть конфигурационный файл, который указыват имя сервера и директорию откуда брать сайт. Это называется виртуальный хост</li>
	<li>Веб-сервер находится на этом порту</li>
</ul>

<v-code lang="js" title="">
Сервер: 178.79.181.169
Порт: 80
Сайт: google.com
</v-code>

<hr>

<!------------------------------------------------------------->
<h4>4. Получение данных страницы</h4>
<!------------------------------------------------------------->

После того как браузер получит IP-адрес, он делает HTTP-запрос методом GET на получение данных для отрисовки страницы

<hr>

<!------------------------------------------------------------->
<h4>5. Критический путь рендеринга</h4>
<!------------------------------------------------------------->
 
После получения ответа от сервера, браузер начинает выполнять критический путь рендеринга:

<ul class="list-point">
		<li>Строить DOM-дерево. Все это он складывает в JavaScript-объект Document</li>
		<li>Параллельно с построением DOM он также стоит CSSOM</li>
		<li>После этого все это складывается в единую структуру: рендеринг-дерево (rendering tree)</li>
		<li>После этого происходит процесс Layout - расположение элементов на странице</li>
</ul>
