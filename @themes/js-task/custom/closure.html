<h2>Замыкания</h2>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>makeCounter</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<v-code lang="js" title="">
let makeCount = 0;

function makeCounter() {
	return function () {
		return makeCount++;
	};
}

var counter = makeCounter();
var counter2 = makeCounter();

console.log(counter()); // 0
console.log(counter()); // 1

console.log(counter2()); // 2
console.log(counter2()); // 3
</v-code>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Исправить ошибку. Проверка должна возвращать истину</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<v-code lang="js" title="">
function closure() {
	return (function() {
		const arr = [];
		
		for (var i=0; i < 10; i++) {
			arr.push(function() {
				return i
			});
		}
		
		return arr;
	})();
}

console.log(closure()[3]() === 3); // => должно быть "true"
</v-code>

<ul class="list-point">
    <li><u>Решение 1</u>: поменять "var" на "let"</li>
    <li><u>Решение 2</u>: добавить "bind"</li>
<v-code lang="js" title="">
arr.push(function() {...}.bind(this, i))
</v-code>
</ul>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>const a = 20 в замыкании</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<v-code lang="js" title="">
function foo() {
	const a = 20
	return function() {
		console.log(a);
	}
}

const a = 10
const bar = foo()
bar(); // 20
</v-code>
