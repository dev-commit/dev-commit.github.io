<h2>Регулярные выражения</h2>

<u-link-wrapper>
	<a href="https://regexr.com/" target="_blank">https://regexr.com/</a>
	<a href="https://regex101.com/" target="_blank">https://regex101.com/</a>
    <hr>
    <a href="https://codepen.io/anton-sergeenkov/pen/rNpYbrv" target="_blank">Codepen</a>
</u-link-wrapper>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Выражения</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->

<!------------------------------------------------------------->
<h4>Expression Flag</h4>
<!------------------------------------------------------------->
<ul class="list-point">
    <li><u-code-text>//g</u-code-text> - global (все совпадения)</li>
    <li><u-code-text>//i</u-code-text> - case insensitive (регистронезависимый поиск)</li>
    <li><u-code-text>//m</u-code-text> - multiline</li>
    <li><u-code-text>//u</u-code-text> - unicode</li>
    <li><u-code-text>//y</u-code-text> - sticky</li>
</ul>

<!------------------------------------------------------------->
<h4>Символы</h4>
<!------------------------------------------------------------->
<ul class="list-point">
    <li><u-code-text>\f</u-code-text> - символ разрыва страницы</li>
    <li><u-code-text>\t</u-code-text> - символ табуляции</li>
    <li><u-code-text>\v</u-code-text> - символ вертикальной табуляции</li>
    <li><u-code-text>\r</u-code-text> - символ возврата каретки</li>
    <li><u-code-text>\n</u-code-text> - символ перевода строки</li>
    <li><u-code-text>\xhh</u-code-text> - символ с кодом hh</li>
    <li><u-code-text>\uhhhh</u-code-text> - символ юникод с кодом hhhh</li>
</ul>




<!-- https://developer.mozilla.org/ru/docs/Web/JavaScript/Guide/Regular_Expressions -->




<!------------------------------------------------------------->
<h4>Специальные символы</h4>
<!------------------------------------------------------------->
<ul class="list-point">
    <li><u-code-text>\</u-code-text> - для обычных символов - делает их специальными. Например, выражение /s/ ищет просто символ 's'. А если поставить \ перед s, то /\s/ уже обозначает пробельный символ. И наоборот, если символ специальный, например *, то \ сделает его просто обычным символом "звездочка". Например, /a*/ ищет 0 или больше подряд идущих символов 'a'. Чтобы найти а со звездочкой 'a*' - поставим \ перед спец. символом: /a\*/.</li>
    <li><u-code-text>^</u-code-text> - начало ввода (или линии, в многострочном режиме); отрицание в [],</li>
    <li><u-code-text>$</u-code-text> - конец ввода  (или линии, в многострочном режиме)</li>
    <li><u-code-text>*</u-code-text> - соответствует предыдущему символу повторенному 0 или более раз. Эквивалентно {0,}. Например, /bo*/ соответствует 'boooo' в "A ghost booooed" и 'b' в "A bird warbled", но не в "A goat grunted".</li>
    <li><u-code-text>+</u-code-text> - соответствует предыдущему символу повторенному 1 или более раз. Эквивалентно {1,}. Например, /a+/ соответствует 'a' в "candy" и всем символам 'a' в "caaaaaaandy".</li>
    <li><u-code-text>?</u-code-text> - соответствует предыдущему символу повторенному 0 или 1 раз. Эквивалентно {0,1}.</li>
    <li><u-code-text>.</u-code-text> - (десятичная точка) соответствует любому символу кроме переноса строки. Например, /.n/ соответствует 'an' и 'on' в "nay, an apple is on the tree", но не 'nay'.</li>
</ul>

<ul class="list-point">
    <li><u-code-text></u-code-text> - </li>
</ul>



<!------------------------------------------------------------->
<h4>Основное</h4>
<!------------------------------------------------------------->
<ul class="list-point">
    <li><u-code-text>\d</u-code-text> - любая десятичная цифра</li>
    <li><u-code-text>\D</u-code-text> - любой символ, кроме десятичной цифры</li>
    <hr>
    <li><u-code-text>\s</u-code-text> - любой пробельный символ</li>
    <li><u-code-text>\S</u-code-text> - любой непробельный символ</li>
    <hr>
    <li><u-code-text>\w</u-code-text> - любой символ, образующий "слово"</li>
    <li><u-code-text>\W</u-code-text> - любой символ, необразующий "слово"</li>
    <hr>
    <li><u-code-text>\b</u-code-text> - граница слова</li>
    <li><u-code-text>\B</u-code-text> - не граница слова</li>
    <hr>
    <li><u-code-text>\A</u-code-text> - начало данных  (независимо от многострочного режима)</li>
    <li><u-code-text>\Z</u-code-text> - конец данных, либо позиция перед последним  символом строки, в случае если это символ  перевода строки (независимо от многострочного режима)</li>
    <li><u-code-text>\z</u-code-text> - конец данных (независимо от многострочного режима)</li>
    <hr>
    <li><u-code-text>[]</u-code-text> - символьный класс</li>
    <li><u-code-text>()</u-code-text> - подмаска</li>
    <li><u-code-text>|</u-code-text> - разделитель альтернативных масок</li>
    <hr>

    <li><u-code-text>{m,n}</u-code-text> - квантификатор повтора: min m, max n раз</li>
    <hr>
    <li><u-code-text>(?:)</u-code-text> - незахватывающая подмаска</li>
    <li><u-code-text>(?=x)</u-code-text> - положительное утверждение</li>
    <li><u-code-text>(?!x)</u-code-text> - отрицательное утверждение</li>
</ul>









<!------------------------------------------------------------->
<h4>Примеры</h4>
<!------------------------------------------------------------->
<v-code lang="bash" title="">
/[a-zA-Z]/g               # все буквы EN/RU - глобальный поиск
/[a-zA-Zа-яА-Я.,-\d\s]/g  # все буквы EN/RU, символы '.,-', цифры 0-9, пустые символы
</v-code>

<!------------------------------------------------------------->
<h4>Expressions</h4>
<!------------------------------------------------------------->
<v-code lang="bash" title="">
a-zA-Z               # строчные и заглавне буквы EN
а-яА-Я               # строчные и заглавне буквы RU
</v-code>

<v-code lang="bash" title="">
0-9                  # символы от 0-9
^0-9                 # символы кроме чисел от 0-9 
\d                   # символы от 0-9
\D                   # символы кроме чисел от 0-9
</v-code>

<v-code lang="bash" title="">
\w                   # символы, являющиеся буквами или цифрами
\W                   # символы, не являющиеся буквами или цифрами
</v-code>

<v-code lang="bash" title="">
\s                   # пустые символы (пробелы, табуляция, перенос строк)
\S                   # все не пустые символы
</v-code>

<v-code lang="bash" title="">
\bar\b               # граница слова. только слово "bar"
\bar\B               # не должно быть границы слова. только символы "bar" в слове

grey|gray            # или
.                    # любой символ кроме переноса строк
\.                   # точка (экранированно /)

a.{5}z               # между буквами "a" и "z" 5 любых символов
a.{2,5}z             # между буквами "a" и "z" от 2-5 любых символов
a.{2,}z              # между буквами "a" и "z" от 2 и более любых символов
a.+z                 # между буквами "a" и "z" от 1 и более любых символов
a.*z                 # между буквами "a" и "z" от 0 и более любых символов

(\b\w+)@(\w+\.\w+\b) # запоминающая группа. поиск email
</v-code>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Примеры</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<v-code lang="bash" title="">
^[a-zA-Z.-/'\\s]+$     # стандартная регурялка

^hello$                # точное совпадение (начало и окончание)
[^(^hello$)]           # точное совпадение - отрицание
[^(\bhello\b)]         # точное совпадение - отрицание

^(?!.*(hello))         # все что угодно, кроме "hello" ("hell" - не сработает, "hello1" - сработает)
^(?!.*(\\bhello\\b))   # все что угодно, кроме "hello" ("hell" - не сработает, "hello1" - не сработает) 
^(?!.*(hello$))        # все что угодно, кроме "hello" ("hell" - не сработает, "hello1" - не сработает)
</v-code>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Класс RegExp</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<v-code lang="js" title="">
const pattern = new RegExp('\w+', 'g'); // конструктор
const pattern = /\w+/g;                 // литерал
</v-code>

<!------------------------------------------------------------->
<h4>Свойства, доступные для чтение</h4>
<!------------------------------------------------------------->
<v-code lang="js" title="">
pattern.global;
pattern.ignoreCase;
pattern.mutiline;
pattern.lastIndex; // индекс последнего результата
</v-code>

<!------------------------------------------------------------->
<h4>test() - проверка соответствия строки регулярному выражению (true/false)</h4>
<!------------------------------------------------------------->
<v-code lang="js" title="">
const text = "О дивный новый мир";
const pattern = /новый/;
const result = pattern.test(text); 
</v-code>

<!------------------------------------------------------------->
<h4>exec() - аналогичен match()</h4>
<!------------------------------------------------------------->
<v-code lang="js" title="">
// если не установлен флаг global, результат аналогичен методу match
// если установлен флаг global, получаем 1 первый match
const text = "О дивный новый мир";
const pattern = /новый/g;
const result = pattern.exec(text); 
</v-code>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Строки</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->

<!------------------------------------------------------------->
<h4>search() - возвращает позицию первого элемента</h4>
<!------------------------------------------------------------->
<v-code lang="js" title="">
// игнорирует флаг global
const text = "О дивный новый мир";
const pattern = /мы/;
const result = text.search(pattern); // 9
</v-code>

<!------------------------------------------------------------->
<h4>match() - возвращает само совпадение</h4>
<!------------------------------------------------------------->
<v-code lang="js" title="">
// не игнорирует флаг global
const text = "О дивный новый мир";
const pattern = /новый/;
const result = text.match(pattern); // ["новый", index: 9, input: "О дивный новый мир", groups: undefined]
</v-code>

<!------------------------------------------------------------->
<h4>split() - преобразование строки с заданным разделителем в массив </h4>
<!------------------------------------------------------------->
<v-code lang="js" title="">
const pattern = /[\s,]+/;
const result = text.split(pattern); // разделитель пробел
</v-code>

<!------------------------------------------------------------->
<h4>replace() - ищет совпадение и заменяет</h4>
<!------------------------------------------------------------->
<v-code lang="js" title="">
const text = 'привет мир';
const pattern = /привет/;

text = text.replace(pattern, function(match) {
    return match.toUpperCase();
});
</v-code>

<v-code lang="js" title="">
str = str.replace(/'/g, '"');         // поменять одинарные кавычки на двойные
str = str.replace(/«/g, '"');         // поменять « 
str = str.replace(/»/g, '"');         // поменять »
str = str.replace(/–/g, '-');         // поменять "–"
str = str.replace(/\r|\n/g, '');      // убрать перенос строки
str = str.replace(/<\/?[^>]+>/g, ''); // удалить html теги из текста
</v-code>
