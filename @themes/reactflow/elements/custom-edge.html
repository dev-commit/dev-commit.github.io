<h2>Custom Edge</h2>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Custom Edge</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<ul class="list-point">
    <li><u-code-text>&lt;BaseEdge&gt;</u-code-text> - линия</li>
    <li><u-code-text>&lt;EdgeLabelRenderer&gt;</u-code-text> - кастомные элементов на линии</li>
</ul>

<v-code lang="js border" title="">
export declare enum ConnectionLineType {
  Bezier = "default",           // => getBezierPath
  Straight = "straight",        // => getStraightPath
  Step = "step",                // => 
  SmoothStep = "smoothstep",    // => getSmoothStepPath
  SimpleBezier = "simplebezier" // => getSimpleBezierPath
}
</v-code>

<u-message-warn>
Неизвестно что указать для "step". Нет "getStepPath"
</u-message-warn>

<v-path>./CustomEdge.tsx</v-path>

<v-code lang="ts" title="">
import { BaseEdge, EdgeLabelRenderer } from "reactflow"

import {
  getBezierPath
  // getSimpleBezierPath
  // getSmoothStepPath
  // getStraightPath
} from "reactflow"

interface ICustomEdgeProps {
  id: string
  sourceX: number
  sourceY: number
  targetX: number
  targetY: number
}

const CustomEdge: React.FC&lt;ICustomEdgeProps&gt; = (props) => {
  const { id, sourceX, sourceY, targetX, targetY } = props;

  const [edgePath] = getBezierPath({ sourceX, sourceY, targetX, targetY });

  const styleEdgeLabelRenderer = {
    transform: `translate(-50%, -50%) translate(${labelX}px,${labelY}px)`
  }
  const onClick = () => {}

  return (
    &lt;&gt;
      &lt;<u-code-mod>BaseEdge</u-code-mod> id={id} path={edgePath} /&gt;
      &lt;<u-code-mod>EdgeLabelRenderer</u-code-mod>&gt;
        &lt;button
          style=<span v-pre>{styleEdgeLabelRenderer}
          className={cn("nodrag", "nopan")}
          onClick={onClick}
        /&gt;
      &lt;/EdgeLabelRenderer&gt;
    &lt;/&gt;
  )
}

export default CustomEdge
</v-code>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>App</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<v-path>./App.tsx</v-path>

<v-code lang="js" title="">
import CustomEdge from "./CustomEdge"

const edgeTypes: EdgeTypes = {
  'custom-edge': CustomEdge,
}

const App  = () => {
  return (
    &lt;ReactFlow
      edgeTypes={edgeTypes}
    /&gt;
  )
}
</v-code>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>initialState</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->

<v-path>./initialState.ts</v-path>

<v-code lang="js" title="">
export const initialEdges = [
  {
    id: "edge-1",
    source: "node-1",
    target: "node-2",
    type: 'custom-edge',
  },
]
</v-code>
