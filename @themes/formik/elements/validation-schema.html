<h2>validationSchema</h2>

<u-link-wrapper>
    <a href="https://formik.org/docs/guides/validation" target="_blank">Документация: Validation</a>
    <a href="https://formik.org/docs/guides/validation#manually-triggering-validation" target="_blank">Документация: Validation. Manually Triggering Validation</a>
    <a href="https://github.com/jquense/yup" target="_blank">Yup schema</a>
</u-link-wrapper>

<v-pre-npm>
npm i --save <u-code-npm>yup</u-code-npm>
npm i --save <u-code-npm>yup</u-code-npm> <u-code-npm>@types/yup</u-code-npm> # for TypeScript
</v-pre-npm>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Заготовка</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<v-code lang="js" title="">
import * as Yup from 'yup';

const validationSchema = Yup.object().shape({
    //
});
</v-code>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Типы</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<v-code lang="js" title="">
field: Yup.string(),
field: Yup.number(),
field: Yup.boolean(),
field: Yup.date(),
field: Yup.array(),

field: Yup.object().shape({
    label: Yup.string(),
    value: Yup.number(),
}),
</v-code>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Методы</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->

<!------------------------------------------------------------->
<h4>General</h4>
<!------------------------------------------------------------->
<v-code lang="js" title="">
field: Yup.string()
    .min(10, 'Too Short!')
    .max(50, 'Too Long!')
    .required('Required')
    .nullable()
</v-code>

<!------------------------------------------------------------->
<h4>String</h4>
<!------------------------------------------------------------->
<v-code lang="js" title="">
field: Yup.string()
    .length(10, 'Text')
    .email('Email')
    .url('URL')
    .uuid('Text')
    .ensure()
    .trim('Text')
    .lowercase('Text')
    .uppercase('Text')
</v-code>

<!------------------------------------------------------------->
<h4>Number</h4>
<!------------------------------------------------------------->
<v-code lang="js" title="">
field: Yup.number()
    .lessThan(10)
    .moreThan(10)
    .positive('Text')
    .negative('Text')
    .integer('Text')
    .truncate()
    .round('floor' | 'ceil' | 'trunc' | 'round')
</v-code>

<!------------------------------------------------------------->
<h4>Array</h4>
<!------------------------------------------------------------->
<v-code lang="js" title="">
field: Yup.array
    .of(type: Schema)
    .length(10, 'Text')
    .ensure()
    .compact(rejector: (value) => boolean)
</v-code>

<v-code lang="js" title="">
field: Yup.array().of(Yup.string()),
field: Yup.array().of(Yup.string().min(2)),
</v-code>

<!------------------------------------------------------------->
<h4>Object</h4>
<!------------------------------------------------------------->
<v-code lang="js" title="">
field: Yup.object
    .shape(fields: object, noSortEdges?: Array<[string, string]>)
    .pick(keys: string[])
    .omit(keys: string[])
    .getDefaultFromShape(): Record < string, unknown >
    .from(fromKey: string, toKey: string, alias: boolean = false)
    .noUnknown(onlyKnownKeys: boolean = true, message?: string | function)
    .camelCase()
    .constantCase()
</v-code>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3><u-code-text>.test</u-code-text> - кастомная обработка value</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<v-code lang="js" title="">
const validationSchema = Yup.object().shape({
    start: Yup.number().test("startValid", "So Big", (value) => {
        if (value > 10) {
            // Ошибка валидации
            return false;
        } else {
            // Нет ошибки
            return true;
        }
    }),
});
</v-code>

<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>Проверка значения на основе другого значения</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->

<!------------------------------------------------------------->
<h4>Проверка через <u-code-text>lessThan</u-code-text></h4>
<!------------------------------------------------------------->
<v-code lang="js" title="">
const validationSchema = Yup.object().shape({
    start: Yup.number().lessThan(Yup.ref('end'), 'Should less than End'),
    end: Yup.number()
});
</v-code>

<!------------------------------------------------------------->
<h4>Обращение через <u-code-text>this.parent</u-code-text></h4>
<!------------------------------------------------------------->
<ul class="list-point">
    <li>Нельзя использовать стрелочную функцию</li>
</ul>

<v-code lang="js" title="">
const validationSchema = Yup.object().shape({
    start: Yup.number().test("startValid", "So Big", function (value) {
        console.log(value, this.parent.end);
    }),
    end: Yup.number()
});
</v-code>


<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<h3>RegExp (phone, site, password)</h3>
<!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
<v-code lang="js" title="">
const EMAIL_REGEXP: RegExp = /^[-._A-Za-z0-9]+@(?:[A-Za-z0-9][-a-z0-9]+\.)+[A-Za-z]{2,}|^$/;

emailPersonal: Yup.string()
    .matches(EMAIL_REGEXP, {
        message: 'forms.errorEmailValidation',
        excludeEmptyString: true,
    }),
</v-code>
